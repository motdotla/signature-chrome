/*! signature-chrome.js - 0.0.1 - 2014-10-12 - scottmotte */
!function(a){var b="click",c="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?!0:!1;c&&(b="touchend");var d="edit_mode",e="done_mode",f="text_mode",g="sign_mode",h="trash_mode",i="signature_chrome"+e+".clicked",j="signature_chrome"+f+".clicked",k="signature_chrome"+g+".clicked",l="signature_chrome"+h+".clicked",m="signature_chrome.state.changed",n=function(){return this.signature_nav_btns=[],this.state=d,this.jafja=void 0,this};n.prototype.setState=function(a,b){var c=this,d=c.state;c.state=b,c.jafja.trigger(m,{previous:d,current:c.state})},n.prototype._watchStateAndChangeCss=function(a){var b=this;this.jafja.bind(m,function(c){b.removeClass(a,c.previous),b.addClass(a,c.current)})},n.prototype._stateMachine=function(a){var b=this;b.jafja.bind(i,function(){b.state==e?b.setState(a,d):b.setState(a,e)}),b.jafja.bind(j,function(){b.state==f?b.setState(a,d):b.setState(a,f)}),b.jafja.bind(k,function(){b.state==g?b.setState(a,d):b.setState(a,g)}),b.jafja.bind(l,function(){b.state==h?b.setState(a,d):b.setState(a,h)})},n.prototype.init=function(a){this._stateMachine(a),this._drawCss(),this._drawNav(a),this._drawDoneNav(a),this._watchStateAndChangeCss(a),this.setState(a,d);var c=this;this.done_mode_btn.addEventListener(b,function(){c.jafja.trigger(i,{})},!1),this.text_mode_btn.addEventListener(b,function(){c.jafja.trigger(j,{})},!1),this.sign_mode_btn.addEventListener(b,function(){c.jafja.trigger(k,{})},!1),this.trash_mode_btn.addEventListener(b,function(){c.jafja.trigger(l,{})},!1)},n.prototype._drawDoneNav=function(a){this.done_nav=document.createElement("nav"),this.done_nav.className="signature-done-nav",this.done_nav.id="signature-done-nav-"+this.uuid;var b=document.createElement("ul");b.className="signature-no-list-style";var c=document.createElement("li");return this.done_mode_btn=document.createElement("a"),this.done_mode_btn.className="signature-button signature-button-primary signature-done-button",this.done_mode_btn.innerHTML="Done",c.appendChild(this.done_mode_btn),b.appendChild(c),this.done_nav.appendChild(b),a.appendChild(this.done_nav)},n.prototype._drawNav=function(a){this.header=document.createElement("header"),this.header.className="signature-header",this.header.id="signature-header"+this.uuid,this.nav=document.createElement("nav"),this.nav.className="signature-nav",this.nav.id="signature-nav-"+this.uuid;var b=document.createElement("ul");b.className="signature-no-list-style";var c=document.createElement("li");this.text_mode_btn=document.createElement("a"),this.text_mode_btn.className="signature-nav-btn signature-nav-btn-first signature-nav-"+f,this.signature_nav_btns.push(this.text_mode_btn);var d=document.createElement("span");d.className="signature-nav-span fa fa-font",this.text_mode_btn.appendChild(d),c.appendChild(this.text_mode_btn),b.appendChild(c);var e=document.createElement("li");this.sign_mode_btn=document.createElement("a"),this.sign_mode_btn.className="signature-nav-btn signature-nav-"+g,this.signature_nav_btns.push(this.sign_mode_btn);var h=document.createElement("span");h.className="signature-nav-span fa fa-pencil",this.sign_mode_btn.appendChild(h),e.appendChild(this.sign_mode_btn),b.appendChild(e);var i=document.createElement("li");this.trash_mode_btn=document.createElement("a"),this.trash_mode_btn.className="signature-nav-btn signature-nav-disabled",this.signature_nav_btns.push(this.trash_mode_btn);var j=document.createElement("span");return j.className="signature-nav-span fa fa-trash",this.trash_mode_btn.appendChild(j),i.appendChild(this.trash_mode_btn),b.appendChild(i),this.nav.appendChild(b),this.header.appendChild(this.nav),a.appendChild(this.header)},n.prototype.hasClass=function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},n.prototype.addClass=function(a,b){this.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},n.prototype.removeClass=function(a,b){this.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},a.SignatureChrome=n}(this);var signature_chrome=new SignatureChrome;!function(a){a.prototype._drawCss=function(){this.css='@charset "utf-8";@import url(https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css);.signature-header{position:fixed;top:0;left:0;width:100%;z-index:2000}.signature-nav-span:before{line-height:43px;font-size:30px}.signature-nav{position:absolute;text-align:center;top:0;left:0;background:#E2E3E1;background:rgba(239,65,54,1);width:100%}.signature-no-list-style{padding:0;margin:0;list-style:none}.signature-nav li{display:inline-block}.signature-nav-btn{font-size:18px;color:rgba(255,255,255,1);display:inline-block;height:44px;width:60px;text-decoration:none;text-transform:uppercase;text-align:center;line-height:44px;border-right:1px dashed #fff;border-top:none;border-bottom:none;cursor:pointer}.text_mode .signature-nav-text_mode,.text_mode .signature-nav-text_mode:visited{color:#fff;background:#222}.sign_mode .signature-nav-sign_mode,.sign_mode .signature-nav-sign_mode:visited{color:#fff;background:#222}.signature-nav-btn.signature-nav-btn-first{border-left:1px dashed #fff}.signature-nav-disabled,.signature-nav-disabled:visited{color:rgba(255,255,255,0.5)}.signature-nav-active,.signature-nav-active:visited{color:#fff;background:#222}.signature-done-button{font-size:24px;border-radius:2px 2px 0 0}.signature-done-nav{position:fixed;text-align:center;bottom:0;right:0;width:100%;z-index:2000}.signature-nav a,.signature-nav a:visited{}.signature-button{display:inline-block;*display:inline;zoom:1;line-height:normal;white-space:nowrap;vertical-align:baseline;text-align:center;cursor:pointer;-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.signature-button::-moz-focus-inner{padding:0;border:0}.signature-button{font-size:100%;*font-size:90%;*overflow:visible;padding:0.5em 1.5em 0.5em;color:#444;color:rgba(0,0,0,0.80);*color:#444;border:1px solid #999;border:none rgba(0,0,0,0);background-color:#E6E6E6;text-decoration:none;border-radius:2px;-webkit-font-smoothing:antialiased;-webkit-transition:0.1s linear -webkit-box-shadow;-moz-transition:0.1s linear -moz-box-shadow;-ms-transition:0.1s linear box-shadow;-o-transition:0.1s linear box-shadow;transition:0.1s linear box-shadow}.signature-button-hover,.signature-button:hover{filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00000000",endColorstr="#00000000",GradientType=0);background-image:-webkit-gradient(linear,0 0,0 100%,from(transparent),color-stop(40%,rgba(0,0,0,0.05)),to(rgba(0,0,0,0.05)));background-image:-webkit-linear-gradient(transparent,rgba(0,0,0,0.05) 40%,rgba(0,0,0,0.15));background-image:-moz-linear-gradient(top,rgba(0,0,0,0.05) 0%,rgba(0,0,0,0.05));background-image:-ms-linear-gradient(transparent,rgba(0,0,0,0.05) 40%,rgba(0,0,0,0.15));background-image:-o-linear-gradient(transparent,rgba(0,0,0,0.05) 40%,rgba(0,0,0,0.05));background-image:linear-gradient(transparent,rgba(0,0,0,0.05) 40%,rgba(0,0,0,0.05))}.signature-button-active,.signature-button:active{box-shadow:0 0 0 1px rgba(0,0,0,0.15) inset,0 0 6px rgba(0,0,0,0.20) inset}.signature-button[disabled],.signature-button-disabled,.signature-button-disabled:hover,.signature-button-disabled:active{border:none;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);filter:alpha(opacity=40);-khtml-opacity:0.40;-moz-opacity:0.40;opacity:0.40;cursor:not-allowed;box-shadow:none}.signature-button-hidden{display:none}.signature-button::-moz-focus-inner{padding:0;border:0}.signature-button-primary,a.signature-button-primary{background:rgba(239,65,54,1);color:#fff}.signature-button:-moz-focusring{outline-color:rgba(0,0,0,0.85)}.signature-hidden{display:none}';var a=document.createElement("style");return a.type="text/css",a.styleSheet?a.styleSheet.cssText=this.css:a.appendChild(document.createTextNode(this.css)),document.body.appendChild(a)}}(SignatureChrome);